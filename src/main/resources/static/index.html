<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<style>
			table {border-collapse: collapse; width:80%; margin:20px}
			th, td {border: 1px solid #ddd; padding:8px; text-align:center}
			th {background-color: #f2f2f2 }
		</style>		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script>
			$(document).ready(function(){
				// 檢查 Session
				$.ajax({
					url: "/api/members/status",
					method: 'POST',
					dataType: "json"
				}).done(function(data){
					console.log(data);
					if (data.success){
						$('#companyName').text(data.companyName);
						$('#companyTel').text(data.companyTel);
						$('#welcome').text("Hello, " + data.member.name);
						$('#icon').attr('src', "data:image/png; base64, " + data.member.icon);
					}else{
						window.location.href = 'login.html';
					}
				}).fail(function(){
					window.location.href = 'login.html';
				});
				
				$('#logout').click(function(){
					$.ajax({
						url: "/api/members/logout",
						method: "GET"
					}).always(function(){
						window.location.href = 'login.html';
					});
				});
				
			});
		</script>
	</head>
	<body>
		<h1 id="companyName"></h1>
		<h3 id="companyTel"></h3>
		<div id="welcome"></div>
		<img id="icon" />
		<button id="logout">Logout</button>
		<hr />
		<table id="hotelTable">
			<thead>
				<tr>
					<td>ID</td>
					<td>Name</td>
					<td>Address</td>
					<td>Tel</td>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
		
		
		
		
	</body>
</html>